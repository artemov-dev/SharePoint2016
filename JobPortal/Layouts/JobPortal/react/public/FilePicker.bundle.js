(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{118:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.FilePicker=void 0;var i=n(0),a=n(48);n(153);var l=n(49);t.FilePicker=function(){var e=a.getTheme(),t=e.palette,n=e.fonts,o=a.mergeStyleSets({listGridExample:{overflow:"hidden",fontSize:0,position:"relative"},listGridExampleTile:{textAlign:"center",outline:"none",position:"relative",float:"left",background:t.neutralLighter,selectors:{"focus:after":{content:"",position:"absolute",left:2,right:2,top:2,bottom:2,boxSizing:"border-box",border:"1px solid ".concat(t.white)}}},listGridExampleSizer:{paddingBottom:"100%"},listGridExamplePadder:{position:"absolute",left:2,top:2,right:2,bottom:2},listGridExampleLabel:{background:"rgba(0, 0, 0, 0.3)",color:"#FFFFFF",position:"absolute",padding:10,bottom:0,left:0,width:"100%",fontSize:n.small.fontSize,boxSizing:"border-box"},listGridExampleImage:{position:"absolute",top:0,left:0,width:"100%"}}),c=i.useRef(0),s=i.useRef(0),u=i.useCallback((function(e,t){return 0===e&&(c.current=Math.ceil(t.width/250),s.current=Math.floor(t.width/c.current)),3*c.current}),[]),f=i.useCallback((function(e,t){return i.createElement("div",{className:o.listGridExampleTile,"data-is-focusable":!0,style:{width:100/c.current+"%"}},i.createElement("div",{className:o.listGridExampleSizer},i.createElement("div",{className:o.listGridExamplePadder},i.createElement("img",{src:e.FileRef,className:o.listGridExampleImage}),i.createElement("span",{className:o.listGridExampleLabel},"item ".concat(t)))))}),[]),d=i.useCallback((function(){return 3*s.current}),[]),m=r(i.useState("key1"),2),g=m[0],p=m[1],h=r(i.useState([]),2),v=h[0],b=h[1];return i.useEffect((function(){ExecuteOrDelayUntilScriptLoaded((function(){l.SPServices.getJsomListItems("","Site Assets",'<View Scope=\'RecursiveAll\'><Query><Where><Eq><FieldRef Name="FileDirRef" /><Value Type="Text">/SiteAssets/logo</Value></Eq></Where></Query></View>').then((function(e){return b(e)}))}),"sp.js")}),[]),console.log(u),i.createElement(a.Stack,{horizontal:!0,tokens:{childrenGap:20}},i.createElement(a.Stack.Item,{grow:!0,shrink:!0,styles:{root:{paddingTop:20,borderRight:"1px solid #ff9900",width:0,overflow:"hidden"}}},i.createElement(a.Nav,{styles:{root:{overflow:"hidden"},linkText:{color:"#666666"}},groups:[{links:[{name:"SharePoint",url:"key1",icon:"SharepointAppIcon16",key:"key1"},{name:"Upload",url:"key2",icon:"Upload",key:"key2"}]}],onLinkClick:function(e){var t,n;e.preventDefault();var r=e.target.parentNode.parentNode,o=null==r.getAttribute("href")?null===(t=r.getElementsByTagName("a")[0].getAttribute("href"))||void 0===t?void 0:t.valueOf():null===(n=r.getAttribute("href"))||void 0===n?void 0:n.valueOf();p(o)},selectedKey:g})),i.createElement(a.Stack.Item,{grow:5,shrink:!0},i.createElement(a.Stack,{tokens:{childrenGap:20}},i.createElement(a.Text,{variant:"xLarge"},"Select File"),i.createElement(a.FocusZone,null,i.createElement(a.List,{className:o.listGridExample,items:v,getItemCountForPage:u,getPageHeight:d,onRenderCell:f})))))}},145:function(e,t){},153:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n(95);Object(r.bb)({palette:{themePrimary:"#ff9900",themeLighterAlt:"#fffbf5",themeLighter:"#ffefd6",themeLight:"#ffe0b3",themeTertiary:"#ffc266",themeSecondary:"#ffa51f",themeDarkAlt:"#e68a00",themeDark:"#c27400",themeDarker:"#8f5600",neutralLighterAlt:"#f1f1f1",neutralLighter:"#ededed",neutralLight:"#e3e3e3",neutralQuaternaryAlt:"#d3d3d3",neutralQuaternary:"#cacaca",neutralTertiaryAlt:"#c2c2c2",neutralTertiary:"#a19f9d",neutralSecondary:"#605e5c",neutralPrimaryAlt:"#3b3a39",neutralPrimary:"#323130",neutralDark:"#201f1e",black:"#000000",white:"#f7f7f7"}}),Object(o.a)("/_layouts/15/JobPortal/react/public/fluenticons/",{disableWarnings:!0})},49:function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"SPServices",(function(){return o}));var o=function(){var t={lastStatusId:void 0};function n(){return"/"==_spPageContextInfo.webServerRelativeUrl?"":_spPageContextInfo.webServerRelativeUrl}function i(e,t,n){return new r((function(o){if(n.Attachments){var i=t.get_current().get_attachmentFiles();(function(e,t,n){return new r((function(r,o){e.load(t),e.executeQueryAsync((function(){for(var e=t.getEnumerator();e.moveNext();){var o=e.get_current();n.AttachmentFiles.push({FileName:o.get_fileName(),ServerRelativeUrl:o.get_serverRelativeUrl()})}r(n)}),(function(e,t){o(t.get_message(),t.get_stackTrace())}))}))})(e,i,n).then((function(e){o(e)}))}else o(n)}))}function a(e){if(e){var t=e.Url?e.Url:e;return-1!==t.search(/\.pdf$|\.doc$|\.xls$|\.ppt$|\.docx$|\.xlsx$|\.pptx$/gi)?t.split("?")[0]+"?Web=1":t}return"#"}return{getWebUrl:n,getSiteUrl:function(){return _spPageContextInfo.siteServerRelativeUrl},getStringParamsFromObject:function(e){return Object.keys(e).map((function(t){return encodeURI(t)+"="+encodeURI(e[t])})).join("&")},getWebApiUrlList:function(e){var t=n();return t+"/_api/web/getList('"+t+e+"')/items?"},isImage:function(e){return/(\.jpg|\.jpeg|\.png|\.bmp|\.svg)$/i.test(e)},getUrlParameterByName:function(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getListItemById:function(e,t){var r=n();return r+"/_api/web/getList('"+r+e+"')/items("+t+")"},createListItem:function(t,r){var o=e.Deferred(),i=n();return fetch(i+"/_api/web/getList('"+i+t+"')/items",{method:"POST",headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose","X-RequestDigest":e("#__REQUESTDIGEST").val()},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){o.resolve(e.d)})).catch((function(e){o.reject(e),console.log("Не удалась создать элемент",e)})),o.promise()},deleteListItem:function(t,r){var o=e.Deferred(),i=n();return fetch(i+"/_api/web/getList('"+i+t+"')/items("+r+")",{method:"DELETE",headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose","X-RequestDigest":e("#__REQUESTDIGEST").val(),"IF-MATCH":"*"}}).then((function(e){o.resolve(e)})).catch((function(e){o.reject(e),console.log("Не удалась удалить элемент",e)})),o.promise()},updateListItem:function(t,o,i){return new r((function(r,a){var l=n();fetch(l+"/_api/web/getList('"+l+t+"')/items("+o+")",{method:"POST",headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose","X-RequestDigest":e("#__REQUESTDIGEST").val(),"IF-MATCH":"*","X-Http-Method":"MERGE"},body:JSON.stringify(i)}).then((function(e){r(e)})).catch((function(e){a(e),console.log("Не удалась обновить элемент")}))}))},getJsomListItems:function(t,n,o,a,l){return new r((function(t,c){var s=SP.ClientContext.get_current(),u=s.get_web().get_lists().getByTitle(n),f=new SP.CamlQuery;if(f.set_viewXml(o),l){var d=new SP.ListItemCollectionPosition;d.set_pagingInfo(l),f.set_listItemCollectionPosition(d)}var m=u.getItems(f);a?s.load(m,a):s.load(m),s.executeQueryAsync((function(){for(var n=m.getEnumerator(),o=[];n.moveNext();){var a=n.get_current().get_fieldValues();e.extend(a,{AttachmentFiles:[]});var l=i(s,n,a);o.push(l)}r.all(o).then((function(e){t(e)}))}),(function(e,t){c(t.get_message(),t.get_stackTrace())}))}))},isUserInGroups:function(e){return new r((function(t){void 0===e&&(e=[]);var r=n()+"/_api/web/currentuser/groups";fetch(r,{headers:{Accept:"application/json;odata=verbose","Content-Type":"application/json;odata=verbose"}}).then((function(e){return e.json()})).then((function(n){n.d.results.map((function(n){-1!=e.indexOf(n.Title)&&t(!0)})),t(!1)})).catch((function(e){console.log("Ошибка при проверке групп пользователя",e)}))}))},addNotification:function(e,n){SP.UI.Notify&&(t.lastStatusId&&SP.UI.Status.removeStatus(t.lastStatusId),t.lastStatusId=SP.UI.Notify.addNotification(e,1==n))},getLink:a,getTarget:function(e){return-1!==a(e).search(/Web=1$/gi)?"_blank":"_self"},getHashTagLink:function(e){return n()+"/SitePages/search.aspx?#q=&advanced=1&hashtags="+e},hslToRgb:function(e,t,n){var r,o,i;if(0==t)r=o=i=n;else{var a=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=a(c,l,e+1/3),o=a(c,l,e),i=a(c,l,e-1/3)}return[Math.floor(255*r),Math.floor(255*o),Math.floor(255*i)]},setCookie:function(e,t,n,r){var o,i=new Date;""==r&&(r="/"),i.setTime(i.getTime()+24*n*60*60*1e3),o=i.toGMTString(),t=encodeURI(t),document.cookie=e+"="+t+"; path="+r+"; expires="+o},getCookie:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},getSetting:function(t,n){e.Deferred(),SP.SOD.executeFunc("sp.js","SP.ClientContext",(function(){o.getJsomListItems("","Настройки","<View Scope='Recursive'><Query></Query></View>").then((function(e){var r=e.filter((function(e){return e.Title===t}));1==r.length&&n(r[0].SettingsValue)})).catch((function(e){return console.log("Не удалось получить данные из списка Настройки для "+t+" "+e)}))}))},isInEditMode:function(){var e=document.forms[MSOWebPartPageFormName].MSOLayout_InDesignMode;if("1"==(e=null==e?null:document.forms[MSOWebPartPageFormName].MSOLayout_InDesignMode.value))return!0;var t=document.forms[MSOWebPartPageFormName]._wikiPageMode;return"Edit"==(t=null==t?null:document.forms[MSOWebPartPageFormName]._wikiPageMode.value)},OpenModalDialog:function(e,t,n){var r=SP.UI.$create_DialogOptions();return r.url=e,r.width=t,r.height=n,SP.UI.ModalDialog.showModalDialog(r),!1}}}()}.call(this,n(52),n(97).Promise)}},[[118,0,1]]]);
//# sourceMappingURL=FilePicker.bundle.js.map